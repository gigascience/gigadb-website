actor: ApiTester
modules:
    enabled:
        - \Helper\Api
        - Asserts
        - REST:
            url: 'http://gigadb.test/api/'
            depends: PhpBrowser
        - Db:
            dsn: "pgsql:host=%GIGADB_HOST%;dbname=%GIGADB_DB%;port=%GIGADB_PORT%"
            user: "%GIGADB_USER%"
            password: "%GIGADB_TEST_PASSWORD%"
            dump: 'sql/gigadb.pgdmp'
            populate: true # run populator before all tests
            cleanup: true # run populator before each test
            # Can use --verbose in pg_restore command to output progress messages
            populator: "PGPASSWORD=$password pg_restore -h %GIGADB_HOST% -p $port -U %GIGADB_USER% -d %GIGADB_DB% --no-owner /var/www/sql/gigadb.pgdmp"
