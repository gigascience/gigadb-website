---
table: curation_log
from: null
to: ram_1
depends:
  - [dataset, bgh_1]
sql: |
  CREATE TABLE curation_log (
    id SERIAL NOT NULL PRIMARY KEY,
    dataset_id INTEGER NOT NULL REFERENCES dataset(id) ON DELETE CASCADE,
    creation_date date,
    created_by varchar(20),
    last_modified_date date,
    last_modified_by varchar(20),
    action varchar(100),
    comments varchar(200)
  );

---

table: dataset_curator
to: ram_2
depends:
  - [dataset, bgh_1]
  - [curation_log, ram_1]

sql: |
  ALTER TABLE dataset ADD COLUMN curator_id INTEGER DEFAULT NULL;
  ALTER TABLE dataset ADD COLUMN manuscript_id INTEGER DEFAULT NULL;
